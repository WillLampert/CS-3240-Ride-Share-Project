{% load static %}

    <header>
      <nav class="navbar navbar-expand-md bg-dark navbar-dark">
        <a class="navbar-brand" href="/">Ride Share</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#collapsibleNavbar">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse justify-content-end" id="collapsibleNavbar">
          <ul class="navbar-nav">
            <li class="nav-item">
              <a class="nav-link" href="/">Home</a>
            </li> 
            <li class="nav-item">
              <a class="nav-link" href="/create_ride/">Create Rides</a>
            </li>
              {% block content1 %}
              {% if user.is_authenticated %}
                <li class="nav-item">
                  <a class="nav-link" href="/accounts/myaccount">My Account</a>
                </li>
              {% else %}
                <li class="nav-item">
                  <a class="nav-link" href="/accounts/login/">My Account</a>
                </li>
              {% endif %}
              {% endblock %}
            
              {% block content %}
              {% if user.is_authenticated %}
                  <li class="nav-item">
                      <a class="nav-link" href="/accounts/login/">{{user.username}}</a>
                  </li>
              {% else %}
                  <li class="nav-item">
                      <a class="nav-link" href="/accounts/login/">Login</a>
                  </li>
              {% endif %}   
              {% endblock %}
          </ul>
        </div>
      </nav>
    </header>

<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" />

<body>
<div class="container">
    <h1 class="text-center" style="padding-top:50px; padding-bottom:25px;">Search for Rides</h1>
    <div class="text-center">
        <!-- SEARCH BAR -->
        <input type="text" placeholder="Enter Location" size="60">
        <!-- Search Select -->
        <select>
          <option value="destination">Search by Destination</option>
          <option value="origin">Search by Origin</option>
        </select>
    </div>
    <div class="text-center" style="padding-top:50px;">
      {% if ride_list %}
        <ul class="list-group">
          {% for Ride in ride_list %}
              <button type="button" class="list-group-item list-group-item-action">
                Going to {{Ride.destination}}, {{Ride.destination_state}} on {{Ride.departure_date}}
              </button>
              <div class="content" style="display: none; padding-top:20px; padding-bottom: 20px">
                This ride is leaving from {{Ride.origin}}, {{Ride.origin_state}}. There are currently {{Ride.seats_available}} seats available.
                  {% if Ride.seats_available > 0 %}
                <button type="button" class="btn-primary" name="joinRide">Join Ride</button>
                  {% endif %}
              </div>


          {% endfor %}
        </ul>
      {% else %}
        <p>No rides are available.</p>
      {% endif %}
    </div>
</div>

  <script>
  var coll = document.getElementsByClassName("list-group-item list-group-item-action");
  var i;

  for (i = 0; i < coll.length; i++) {
    coll[i].addEventListener("click", function() {
      this.classList.toggle("active");
      var content = this.nextElementSibling;
      if (content.style.display === "block") {
        content.style.display = "none";
      } else {
        content.style.display = "block";
      }
    });
  }
  </script>
</body>


<div class="footer-copyright text-center fixed-bottom py-3" style="font-size:10px">
Copyright Â© 2019 | Dan Perkins, Will Lampert, Dong Lee, Eric Armstrong | University of Virginia | All Rights Reserved
</div>

